# 実装計画

## 完了済みタスク

なし

## 実装タスク

- [ ] 1. kyライブラリの導入とHTTPクライアント基盤構築
  - kyライブラリ（v1.10.0）をフロントエンドパッケージに追加
  - httpClientインスタンスの設定（ベースURL、タイムアウト、リトライ）
  - 共通エラーハンドラー（handleApiError）の実装
  - _要件: 1.1, 1.2, 1.3, 1.4, 1.5_

- [ ] 2. プロジェクト管理API関数の実装（TDD）
- [ ] 2.1 プロジェクトAPI関数テスト作成（Red）
  - getProjects関数のテスト作成
  - addProject関数のテスト作成
  - removeProject関数のテスト作成
  - validatePath関数のテスト作成
  - selectProject関数のテスト作成
  - エラーハンドリングのテスト作成
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 2.2 プロジェクトAPI関数実装（Green）
  - テストを通すための最小限の関数実装
  - kyインスタンスを使用したHTTP通信
  - ApiResponse形式からのデータ抽出処理
  - プロジェクト固有のエラーメッセージ実装
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 2.3 プロジェクトAPI関数リファクタリング（Refactor）
  - エラーメッセージの改善
  - コードの整理と可読性向上
  - JSDocドキュメントの追加
  - _要件: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 3. ファイルツリーAPI関数の実装（TDD）
- [ ] 3.1 ファイルツリーAPI関数テスト作成（Red）
  - getProjectFiles関数のテスト作成
  - プロジェクトIDバリデーションのテスト作成
  - ファイルツリー固有エラーハンドリングのテスト作成
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [ ] 3.2 ファイルツリーAPI関数実装（Green）
  - テストを通すための最小限の関数実装
  - プロジェクトIDのバリデーションとURLエンコード
  - ファイルツリー固有のエラーメッセージ実装
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [ ] 3.3 ファイルツリーAPI関数リファクタリング（Refactor）
  - エラーメッセージの改善
  - コードの整理と可読性向上
  - JSDocドキュメントの追加
  - _要件: 3.1, 3.2, 3.3, 3.4, 3.5_

- [ ] 4. 統一エクスポートの設定
  - index.tsでのAPI関数エクスポート設定
  - 型定義のエクスポート設定
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 5. 既存ApiClientの削除と移行
- [ ] 5.1 既存ApiClientクラスとテストの削除
  - api.tsファイルの削除
  - api.test.tsファイルの削除
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 5.2 projectStoreでの新API関数使用への移行
  - ApiClientインスタンス作成の削除
  - projectApi関数の使用に変更
  - インポート文の更新
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 5.3 PathInputコンポーネントでの新API関数使用への移行
  - ApiClientインスタンス作成の削除
  - projectApi.validatePath関数の使用に変更
  - インポート文の更新
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 5.4 PathInputテストでの新API関数使用への移行
  - ApiClientモックの削除
  - projectApi関数のモック設定
  - テストケースの更新
  - _要件: 4.1, 4.2, 4.3, 4.4, 4.5_

- [ ] 6. テスト統合と品質確認
- [ ] 6.1 全テストの実行と確認
  - 新しいAPI関数テストの実行
  - 既存コンポーネントテストの実行
  - 統合テストの実行
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 6.2 TypeScriptビルドとリンターチェック
  - TypeScriptコンパイルエラーの確認
  - ESLintチェックの実行
  - Prettierフォーマットチェックの実行
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_

- [ ] 6.3 MSWハンドラーとの統合確認
  - 新しいAPI関数とMSWハンドラーの動作確認
  - 開発環境での動作テスト
  - _要件: 5.1, 5.2, 5.3, 5.4, 5.5_
