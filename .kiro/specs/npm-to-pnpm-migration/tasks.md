# Implementation Plan

## 完了済みタスク

- ✅ 要件定義とアーキテクチャ設計完了

## 実装タスク

- [x] 1. 移行前環境確認
  - 現在のnpm環境の動作確認
  - 依存関係の現状把握
  - Gitワーキングディレクトリのクリーン確認
  - _要件: 1.1_

- [x] 2. npm環境の完全削除
  - package-lock.jsonファイル削除
  - 全node_modulesディレクトリ削除
  - npmキャッシュクリア
  - _要件: 1.1_

- [x] 3. pnpm workspace設定作成
  - pnpm-workspace.yamlファイル作成
  - packages配下の3パッケージ定義
  - _要件: 1.3_

- [x] 4. package.jsonスクリプト更新
  - ルートpackage.jsonのworkspacesフィールド削除
  - npmコマンドをpnpmコマンドに変換
  - --workspace=を--filter=に変更
  - _要件: 2.1_

- [x] 5. 依存関係の分離と最適化
  - ルートからvitestを削除（devDependencies）
  - ルートのtest:unitスクリプトを削除
  - フロントエンドのViteを最新版（6.3.5）に更新
  - 依存関係の責任を明確化（ルート=品質管理、各パッケージ=個別ツール）
  - _要件: 3.1_

- [x] 6. pnpm依存関係インストール
  - pnpm installの実行
  - pnpm-lock.yamlの生成確認
  - 依存関係解決の確認
  - _要件: 1.2_

- [x] 7. ビルド動作確認
  - 全パッケージのビルド実行
  - TypeScriptコンパイルエラーの解消確認
  - ビルド成果物の確認
  - _要件: 2.2, 3.2_

- [x] 8. テスト動作確認
  - 全パッケージのテスト実行（shared: 8テスト、backend: 9テスト通過）
  - テスト結果の確認
  - _要件: 2.3_

- [x] 9. 開発サーバー動作確認
  - フロントエンド開発サーバー起動確認
  - バックエンド開発サーバー起動確認
  - サーバー間連携の確認
  - _要件: 3.3_

- [x] 10. 移行完了確認
  - 全機能の動作確認（ビルド・テスト・依存関係解決すべて成功）
  - パフォーマンス測定（pnpm install: 11.7s、ビルド時間改善）
  - 移行前後の比較（Viteバージョン競合解消、workspace参照正常化）
  - _要件: 1.2, 2.2, 2.3, 3.2, 3.3_
